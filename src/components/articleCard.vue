<template>
  <card class="article-card w-[270px] overflow-hidden !rounded-2xl">
    <a
      class="block h-[330px] w-full"
      href="/article"
    >
      <!-- æ–‡ç« å›¾ç‰‡ -->
      <div
        class="article-img relative h-[190px] w-full"
        style="clip-path: polygon(0 130px, 0 0, 100% 0, 100% 130px, 50% 100%);"
      >
        <div
          class="mask flex h-full w-full items-center justify-center"
          :style="`background-image: url(${article.pic})`"
        >
          <p
            style="z-index: 10;text-shadow: 1px 1px 2px rgb(0 0 0);"
          >
            ã€Œ{{ article.slogan }}ã€
          </p>
        </div>
      </div>

      <!-- æ ‡é¢˜ -->
      <div class="flex flex-col items-center justify-around p-4">
        <h4 class="line-clamp-1 w-full text-center font-black">
          {{ article.title }}
        </h4>
        <div class="article-meta text-center text-xs text-gray-400">
          <span class="top">ç½®é¡¶ | </span>
          <span class="calendar">{{ article.publish }} | </span>
          <span class="update">{{ article.update }} | </span>
          <span class="menu">{{ article.series }} | </span>
          <span class="tag">{{ article.tag }}</span>
        </div>
      </div>
    </a>
  </card>
</template>

<script setup lang='ts'>
import card from '@/composables/card.vue';
import { toRefs } from 'vue';

const props = defineProps({
  article: {
    type: Object,
    default: () => ({
      slogan: 'ğŸˆå¦–æ€ªï¼Œä¹Ÿæ˜¯ç«¥å¹´çš„ä¸€ç§å¯„æ‰˜',
      title: 'ä¸­å›½å¥‡è°ˆ | ä¹¡æ‘å·´å£«å¸¦èµ°äº†ç‹å­©å„¿å’Œç¥ä»™',
      publish: 'å‘è¡¨äº 1 ä¸ªæœˆå‰',
      update: 'æ›´æ–°äº 1 ä¸ªæœˆå‰',
      series: 'ä¸­å›½å¥‡è°ˆ',
      tag: 'Vue3',
      pic: '/img/art2.webp',
    }),
  },
});

const { article } = toRefs(props);
</script>

<style>
.article-card a {
  color: white;
  text-decoration: none;
}

.mask {
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  transition: all .4s ease-in-out;
}

.mask::before {
  position: absolute;
  top: 0;
  bottom: 0;

  /* z-index: 0; */
  display: block;
  background-color: rgb(0 0 0 / 60%);
  content: '';
  inset: 0;
}

.mask:hover {
  transform: scale(1.06);
}

.article-meta {
  line-height: 22px;
}

.article-meta > span {
  padding-right: 2px;
  padding-left: 18px;
  background-repeat: no-repeat;
  background-position: top -2px left 0;
  background-size:  14px 16px;
}

.top {
  background: url('../assets/img/å›¾é’‰.svg');
}

.calendar {
  background: url('../assets/img/æ—¥å†.svg');
}

.update {
  background: url('../assets/img/æ›´æ–°.svg');
}

.tag {
  background: url('../assets/img/æ ‡ç­¾.svg');
}

.menu {
  background: url('../assets/img/èœå•.svg');
}
</style>
